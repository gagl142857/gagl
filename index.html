<!DOCTYPE html>
<html lang="ko">

<head>


    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-database-compat.js"></script>


    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <title>gagl</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: black;
            margin: 0;
            padding: 0;
            color: white;
            display: flex;
            /* justify-content: center; */
            align-items: center;
            flex-direction: column;
            height: 100vh;
            font-size: 14px;
            /* position: fixed; */
            /* í™”ë©´ê³ ì •ë°°ì¹˜ ìŠ¤í¬ë¡¤í•´ë„ ì•ˆì›€ì§ì„ */
            /* justify-content: space-between; */
            /* ì–‘ìª½ì •ë ¬ */
            font-weight: 500;
        }

        .ë°‘ì¤„ {
            border-bottom: 0.2px solid #2e2e2e;
            /* position: fixed; */
            /* top: 0; */
            width: 100%;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ê°€ë¡œì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .ì„¸ë¡œì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .ì–‘ìª½ì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
        }

        .ì‚¬ë°±í”½ì…€ {
            width: 400px;
        }

        .ë²„íŠ¼ {
            border-radius: 5px;
            padding: 5px;
        }

        .ë²„íŠ¼:hover {
            background-color: #333;
            cursor: pointer;
        }

        .ì»¤ì„œí˜¸ë²„:hover {
            cursor: pointer;
        }

        .ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ {
            margin-top: 15px;
            width: 400px;
            border: 0.2px solid #2e2e2e;
            border-radius: 10px;
            padding: 15px;
        }

        .ê¸°ë³¸í…Œë‘ë¦¬ {
            margin-top: 15px;
            width: 100%;
            box-sizing: border-box;
            border: 0.2px solid #2e2e2e;
            border-radius: 10px;
            padding: 15px;
        }

        .ìœ ì €ëª¬ìŠ¤í„°í…Œë‘ë¦¬ {
            width: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .ì—ë„ˆì§€ë°” {
            background-color: #eab308;
            height: 5px;
            border-radius: 10px;
            width: 100%;
        }

        .ìœ ì €í…Œë‘ë¦¬ {
            border: 0.2px solid #2614c7;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */
        }

        .ëª¬ìŠ¤í„°í…Œë‘ë¦¬ {
            border: 0.2px solid #c71414;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */

        }

        .ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ {
            background-color: #121212;
            height: 85px;
            border-radius: 10px;
            width: 100px;
            padding: 15px;
        }

        .ë ˆë²¨ {
            color: #00c851;
        }

        .ì´ê²½í—˜ì¹˜ {
            color: #ffffff;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ê²½í—˜ì¹˜ {
            color: #7a7a7a;
            font-size: 10px;
            font-weight: lighter;
        }

        .ê³¨ë“œ {
            color: #b0b0b0;
        }

        .ì´ê³¨ë“œ {
            color: #f5c400;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ê³¨ë“œ {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .ìˆ™ë ¨ë„ {
            color: #b0b0b0;
        }

        .ì´ìˆ™ë ¨ë„ {
            color: #3b82f6;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ìˆ™ë ¨ë„ {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .ì½˜ì†”ë¡œê·¸ì°½ {
            color: #ffffff;
            border-radius: 10px;
            position: fixed;
            left: 0;
            bottom: 0;
            font-weight: bold;
        }

        .ë¡œë”©ì»¨í…Œì´ë„ˆ {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: sans-serif;
            font-size: 16px;
        }

        .ë¡œë”©ìŠ¤í”¼ë„ˆ {
            width: 50px;
            height: 50px;
            border: 6px solid #ccc;
            border-top-color: #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* 
        #ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤ {
            max-height: 220px;
            overflow-y: hidden;
        } */

        #ì£½ìŒë©”ì‹œì§€ {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 400px;
            position: fixed;
            top: 33%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: #b0b0b0;
            padding: 15px;
            border: 3px solid #2e2e2e;
            border-radius: 12px;
            /* font-size: 20px; */
            /* font-weight: bold; */
            z-index: 9999;
            box-shadow: 0 0 20px #2e2e2e;
            animation: fadeOut 2s ease-in-out forwards;
            user-select: none;
            pointer-events: none;
        }

        /* ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” í˜ì´ë“œ ì•„ì›ƒ */
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }

            70% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                display: none;
            }
        }



        #ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸ {
            font-size: 16px;
            margin-top: 10px;
        }

        #íšë“ë¡œê·¸ {
            color: #00c851;
        }

        #ë ˆë²¨ì—…í‘œì‹œ {
            color: #00c851;
        }

        #í˜„ì¬ì¸µ {
            background: linear-gradient(135deg, #330000, #660000, #990000);
            border: 2px solid #ff3300;
            box-shadow: 0 0 12px #ff0000, 0 0 24px #440000 inset;
            animation: ë§ˆê³„ë¶ˆê¸¸ 4s ease-in-out infinite;
        }

        @keyframes ë§ˆê³„ë¶ˆê¸¸ {

            0%,
            100% {
                filter: brightness(1);
            }

            50% {
                filter: brightness(1.3);
            }
        }

        .crown-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }

        .ê¸ˆ {
            stroke: gold;
        }

        .ì€ {
            stroke: silver;
        }

        .ë™ {
            stroke: #cd7f32;
        }

        #ë³´ìœ ìˆ™ë ¨ë„:hover {
            cursor: pointer;
            text-decoration: underline;
            color: #3b82f6;
        }

        .target-icon {
            width: 16px;
            height: 16px;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            margin-right: 4px;
        }

        /* í¬ë¦¬í‹°ì»¬ - ë¹¨ê°• */
        .ì•ŒíŒŒ,
        .ë² íƒ€,
        .ê°ë§ˆ,
        .ë¸íƒ€,
        .ì—¡ì‹¤ë¡ ,
        .ì œíƒ€,
        .ì—íƒ€,
        .ì„íƒ€,
        .ì´ì˜¤íƒ€,
        .ì¹´íŒŒ,
        .ëŒë‹¤,
        .ë®¤,
        .ë‰´,
        .í¬ì‹œ,
        .ì˜¤ë¯¸í¬ë¡ ,
        .íŒŒì´,
        .ë¡œ,
        .ì‹œê·¸ë§ˆ,
        .íƒ€ìš°,
        .ì…ì‹¤ë¡ ,
        .íŒŒì´2,
        .ì¹´ì´,
        .í”„ì‹œ,
        .ì˜¤ë©”ê°€ {
            stroke: #ef4444;
        }

        /* ë“œë ˆì¸ - ì£¼í™© */
        .í‚¬ë¡œ,
        .ë©”ê°€,
        .ê¸°ê°€,
        .í…Œë¼,
        .í˜íƒ€,
        .ì—‘ì‚¬,
        .ì œíƒ€,
        .ìš”íƒ€,
        .ë¡œë‚˜,
        .ì¿¼ì¹´ {
            stroke: #f97316;
        }

        /* ë²„ì„œì»¤ - ë…¸ë‘ */
        .ì•µê±°,
        .ë ˆì´ì§€,
        .í”„ë Œì§€,
        .ë§¤ë“œë‹ˆìŠ¤,
        .í•˜ìš¸,
        .ìƒˆë¹„ì§€,
        .ë¸”ëŸ¬ë“œ,
        .ì¹´ì˜¤ìŠ¤,
        .ë°ìŠ¤,
        .ë£¨ë‚˜í‹± {
            stroke: #facc15;
        }

        .ë ˆì–´10 {
            border: 2px solid #ffd700;
            /* ê¸ˆìƒ‰ */
            box-shadow: 0 0 12px #ffd700, 0 0 24px #ffecb3 inset;
        }

        .ë ˆì–´3 {
            border: 2px solid #4ff787;
            /* í‘¸ë¥¸ìƒ‰ */
            box-shadow: 0 0 12px #6bf74f, 0 0 24px #e0f7fa inset;
        }

        .ë ˆì–´1 {
            border: 2px solid #9c27b0;
            /* ë³´ë¼ìƒ‰ */
            box-shadow: 0 0 12px #ce93d8, 0 0 24px #f3e5f5 inset;
        }

        /* cssì¶”ê°€ */
    </style>
</head>

<body>

    <!-- <div id="ë¡œë”©í™”ë©´" class="ë¡œë”©ì»¨í…Œì´ë„ˆ">
        <div class="ë¡œë”©ìŠ¤í”¼ë„ˆ"></div>
        <div style="margin-top: 10px;">ë¡œë”© ì¤‘ì…ë‹ˆë‹¤...</div>
    </div> -->
    <!-- body ìµœìƒë‹¨ ì–´ë””ë“  ê°€ëŠ¥ -->
    <div id="ê³ ì •ì´í™íŠ¸ì˜ì—­" style="
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  display: none;
"></div>



    <div class="ë°‘ì¤„" id="ìƒë‹¨ë°”">
        <div class="ì–‘ìª½ì •ë ¬ ì‚¬ë°±í”½ì…€">
            <div class="ì»¤ì„œí˜¸ë²„" id="íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ">
                gagl
            </div>
            <div id="ì „íˆ¬ìŠ¤í‚¬ì„¤ì •ë²„íŠ¼" style="display: none;">
                <div class="ê°€ë¡œì •ë ¬">
                    <div class="ë²„íŠ¼" id="ì „íˆ¬">
                        ì „íˆ¬
                    </div>
                    <div class="ë²„íŠ¼">
                        ì¥ë¹„
                    </div>
                    <div class="ë²„íŠ¼" id="ìŠ¤í‚¬">
                        ìŠ¤í‚¬
                    </div>
                    <div class="ë²„íŠ¼" id="ì „ë‹¹">
                        ì „ë‹¹
                    </div>
                    <div class="ë²„íŠ¼" id="íƒˆí‡´">
                        íƒˆí‡´
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬" id="ì—ë„ˆì§€ë°•ìŠ¤" style="display: none;">
        <div class="ì–‘ìª½ì •ë ¬">
            <div style="color: #eab308;">
                <!-- ë£¨ì‹œë“œ zap ì•„ì´ì½˜ SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-zap-icon lucide-zap">
                    <path
                        d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z" />
                </svg>
            </div>
            <div>
                â™¾ï¸
            </div>
        </div>
        <div class="ì—ë„ˆì§€ë°”">

        </div>
    </div>



    <div id="ë¡œê·¸ì¸í™”ë©´" style="display: none;">

        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬">
            <input type="text" placeholder="ì•„ì´ë””ì„ ì…ë ¥í•˜ì„¸ìš”" id="ì•„ì´ë””ì…ë ¥" autocomplete="off" maxlength="8">
            <button onclick="ì•„ì´ë””ì„¤ì •()">í™•ì¸</button>
        </div>
    </div>




    <div id="ì „íˆ¬í™”ë©´" style="display: none;">
        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ê°€ë¡œì •ë ¬" id="í˜„ì¬ì¸µ">
            1ì¸µ
        </div>

        <div id="ì‚¬ëƒ¥ê²°ê³¼">
            <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬">
                <div class="ê°€ë¡œì •ë ¬">
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬">
                        <div class="ë ˆë²¨" id="ë ˆë²¨">
                            ë ˆë²¨ 129
                        </div>
                        <div class="ì´ê²½í—˜ì¹˜" id="ì´ê²½í—˜ì¹˜">
                            12,932
                        </div>
                        <div class="íšë“ê²½í—˜ì¹˜" id="íšë“ê²½í—˜ì¹˜">
                            45
                        </div>
                    </div>
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬">
                        <div class="ê³¨ë“œ" id="ê³¨ë“œ">
                            ê³¨ë“œ
                        </div>
                        <div class="ì´ê³¨ë“œ" id="ì´ê³¨ë“œ">
                            999,999
                        </div>
                        <div class="íšë“ê³¨ë“œ" id="íšë“ê³¨ë“œ">
                            999
                        </div>

                    </div>
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬">
                        <div class="ìˆ™ë ¨ë„" id="ìˆ™ë ¨ë„">
                            ìˆ™ë ¨ë„
                        </div>
                        <div class="ì´ìˆ™ë ¨ë„" id="ì´ìˆ™ë ¨ë„">
                            999,999
                        </div>
                        <div class="íšë“ìˆ™ë ¨ë„" id="íšë“ìˆ™ë ¨ë„">
                            999
                        </div>

                    </div>
                </div>

                <div class="ê°€ë¡œì •ë ¬" id="ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸">
                </div>
                <div class="ê°€ë¡œì •ë ¬" id="íšë“ë¡œê·¸">
                </div>

                <div class="ê°€ë¡œì •ë ¬" id="ë ˆë²¨ì—…í‘œì‹œ">

                </div>
            </div>
        </div>

        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ê°€ë¡œì •ë ¬" id="ì „íˆ¬ë²„íŠ¼ë°•ìŠ¤">
            <div class="ë²„íŠ¼" id="ê³µê²©ë²„íŠ¼">âš”ï¸ ê³µê²©í•˜ê¸°</div>
            <div class="ë²„íŠ¼" id="ìë™ì‚¬ëƒ¥ë²„íŠ¼">â± ìë™ì‚¬ëƒ¥</div>
        </div>



        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ìœ ì €í…Œë‘ë¦¬ ì–‘ìª½ì •ë ¬">
            <div id="ìœ ì €ì•„ì´ë””">
                ì˜ì
            </div>
            <div class="ì„¸ë¡œì •ë ¬">
                <div id="ìœ ì €ê³µê²©ë ¥">
                    ê³µê²©ë ¥ 100
                </div>
                <div id="ìœ ì €ì²´ë ¥">
                    ì²´ë ¥ 100
                </div>
            </div>

        </div>
        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ëª¬ìŠ¤í„°í…Œë‘ë¦¬ ì–‘ìª½ì •ë ¬">
            <div id="ì•…ë§ˆì´ë¦„">
                ëª¬ìŠ¤í„°
            </div>
            <div class="ì„¸ë¡œì •ë ¬">
                <div id="ì•…ë§ˆì²´ë ¥">
                    ì²´ë ¥ 100
                </div>
                <div id="ì•…ë§ˆë°©ì–´ë ¥">
                    ë°©ì–´ë ¥ 10
                </div>
            </div>
        </div>


    </div>

    <div id="ì „ë‹¹í™”ë©´" style="display: none;">
        <div id="ì „ë‹¹ì»¨í…Œì´ë„ˆ" class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬">
        </div>
    </div>

    <div class="ì½˜ì†”ë¡œê·¸ì°½" id="ì½˜ì†”ë¡œê·¸ì°½">

    </div>

    <div id="ì£½ìŒë©”ì‹œì§€" style="display: none;"></div>

    <div id="ë¸”ë¡œì»¤" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 9999;
  display: none;
  cursor: wait;
"></div>

    <div id="ì¥ë¹„í™”ë©´" style="display: none;">
        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬" id="ì¥ë¹„ì»¨í…Œì´ë„ˆ">
        </div>
    </div>

    <div id="ìŠ¤í‚¬í™”ë©´" style="display: none;">
        <div class="ë°‘ì¤„" id="ë³´ìœ ìˆ™ë ¨ë„">

        </div>

        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬" id="ìŠ¤í‚¬ì»¨í…Œì´ë„ˆ">
        </div>
    </div>


    <!-- ê°ì²´ì¶”ê°€ -->


    <script>
        // // ì½˜ì†” ë¡œê·¸ ì¶œë ¥ìš©
        // const ì›ë˜ë¡œê·¸ = console.log;
        // console.log = function (...args) {
        //     ì›ë˜ë¡œê·¸(...args); // ê¸°ì¡´ ì½˜ì†”ì— ì¶œë ¥
        //     const ì½˜ì†”ë¡œê·¸ì°½ = document.getElementById("ì½˜ì†”ë¡œê·¸ì°½");
        //     ì½˜ì†”ë¡œê·¸ì°½.innerText = args.map(arg =>
        //         typeof arg === "object" ? JSON.stringify(arg) : arg
        //     ).join(" ");
        //     ì½˜ì†”ë¡œê·¸ì°½.style.display = "block";
        // };

        // // ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥ìš©
        // window.onerror = function (message, source, lineno, colno, error) {
        //     const ì½˜ì†”ë¡œê·¸ì°½ = document.getElementById("ì½˜ì†”ë¡œê·¸ì°½");
        //     ì½˜ì†”ë¡œê·¸ì°½.innerText = `${message} (${lineno}:${colno})`;
        //     ì½˜ì†”ë¡œê·¸ì°½.style.display = "block";
        //     return true;
        // };




        const firebaseConfig = {
            apiKey: "AIzaSyATQ8ecSPS6StHUEv_-b-bw59qtjXoUzHc",
            authDomain: "gagl-eb32b.firebaseapp.com",
            projectId: "gagl-eb32b",
            storageBucket: "gagl-eb32b.firebasestorage.app",
            messagingSenderId: "689475246615",
            appId: "1:689475246615:web:9b5c0d7650e9580e34da52",
            measurementId: "G-2G82FVDY46",
            databaseURL: "https://gagl-eb32b-default-rtdb.firebaseio.com"  // ì´ ì¤„ ì¶”ê°€
        };



        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.database();



        let uid = "";
        let ìœ ì €ë°ì´í„° = {};
        let í˜„ì¬ì•…ë§ˆ = null;

        let í˜„ì¬ì•…ë§ˆì²´ë ¥ = 0;
        let í˜„ì¬ì•…ë§ˆìµœëŒ€ì²´ë ¥ = 0;
        let ìë™ì‚¬ëƒ¥ì¤‘ = false;
        let ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸ = null;


        const ë ˆì–´ëª¬ìŠ¤í„°ëª©ë¡ = [
            "CCCXIII. ë°”í¬ë©”íŠ¸",
            "IV. ë””ì•„ë¸”ë¡œ",
            "CMXCIX. ë©”í”¼ìŠ¤í† ",
            "CXXXI. ë¦´ë¦¬íŠ¸",
            "LXXXIX. ë ˆë¹„ì•„íƒ„",
            "DCCLXXVII. ë²¨ì œë¶‘",
            "DCLXVI. ì‚¬íƒ„"
        ];

        const í¬ë¦¬í‹°ì»¬ì´ë¦„ë“¤ = [
            "ì•ŒíŒŒ", "ë² íƒ€", "ê°ë§ˆ", "ë¸íƒ€", "ì—¡ì‹¤ë¡ ", "ì œíƒ€", "ì—íƒ€", "ì„íƒ€", "ì´ì˜¤íƒ€", "ì¹´íŒŒ",
            "ëŒë‹¤", "ë®¤", "ë‰´", "í¬ì‹œ", "ì˜¤ë¯¸í¬ë¡ ", "íŒŒì´", "ë¡œ", "ì‹œê·¸ë§ˆ", "íƒ€ìš°", "ì…ì‹¤ë¡ ",
            "íŒŒì´2", "ì¹´ì´", "í”„ì‹œ", "ì˜¤ë©”ê°€"
        ];

        const í¬ë¦¬í‹°ì»¬ìŠ¤í‚¬ëª©ë¡ = í¬ë¦¬í‹°ì»¬ì´ë¦„ë“¤.map((ì´ë¦„, ì¸ë±ìŠ¤) => {
            const ë°°ìœ¨ = (1.1 + ì¸ë±ìŠ¤ * 0.1).toFixed(1); // âœ… ì˜¬ë°”ë¥¸ ë³€ìˆ˜ ì´ë¦„
            return {
                í‚¤: `${ì´ë¦„.toLowerCase()}í¬ë¦¬í‹°ì»¬í™•ë¥ `,
                ì´ë¦„: `${ì´ë¦„} í¬ë¦¬í‹°ì»¬ í™•ë¥ `,
                ì„¤ëª…: `ìµœì¢…ë°ë¯¸ì§€ ${ë°°ìœ¨}ë°° ì¦ê°€.`,
                ìµœëŒ€ë ˆë²¨: 10,
                ìˆ™ë ¨ë„ì†Œëª¨: 10 + ì¸ë±ìŠ¤ * 5,
                ì ê¸ˆí•´ì œì¡°ê±´: ì¸ë±ìŠ¤ === 0 ? null : {
                    í‚¤: `${í¬ë¦¬í‹°ì»¬ì´ë¦„ë“¤[ì¸ë±ìŠ¤ - 1].toLowerCase()}í¬ë¦¬í‹°ì»¬í™•ë¥ `,
                    ìµœì†Œë ˆë²¨: 10
                }
            };
        });

        const ë“œë ˆì¸ì´ë¦„ë“¤ = [
            "í‚¬ë¡œ", "ë©”ê°€", "ê¸°ê°€", "í…Œë¼", "í˜íƒ€",
            "ì—‘ì‚¬", "ì œíƒ€", "ìš”íƒ€", "ë¡œë‚˜", "ì¿¼ì¹´"
        ];

        const ë“œë ˆì¸ìŠ¤í‚¬ëª©ë¡ = ë“œë ˆì¸ì´ë¦„ë“¤.map((ì´ë¦„, ì¸ë±ìŠ¤) => {
            return {
                í‚¤: `${ì´ë¦„.toLowerCase()}ë“œë ˆì¸í¡í˜ˆí™•ë¥ `,
                ì´ë¦„: `${ì´ë¦„} ë“œë ˆì¸`,
                ì„¤ëª…: `ëª¬ìŠ¤í„° ì²˜ì¹˜ ì‹œ ì²´ë ¥ +${ì¸ë±ìŠ¤ + 1} íšŒë³µ.`,
                ìµœëŒ€ë ˆë²¨: 10,
                ìˆ™ë ¨ë„ì†Œëª¨: 10 + ì¸ë±ìŠ¤ * 5,
                ì ê¸ˆí•´ì œì¡°ê±´: ì¸ë±ìŠ¤ === 0 ? null : {
                    í‚¤: `${ë“œë ˆì¸ì´ë¦„ë“¤[ì¸ë±ìŠ¤ - 1].toLowerCase()}ë“œë ˆì¸í¡í˜ˆí™•ë¥ `,
                    ìµœì†Œë ˆë²¨: 10
                }
            };
        });

        const ë²„ì„œì»¤ì´ë¦„ë“¤ = [
            "ì•µê±°", "ë ˆì´ì§€", "í”„ë Œì§€", "ë§¤ë“œë‹ˆìŠ¤", "í•˜ìš¸",
            "ìƒˆë¹„ì§€", "ë¸”ëŸ¬ë“œ", "ì¹´ì˜¤ìŠ¤", "ë°ìŠ¤", "ë£¨ë‚˜í‹±"
        ];

        const ë²„ì„œì»¤ë°°ìœ¨ëª©ë¡ = [1.3, 1.6, 1.9, 2.2, 2.5, 2.8, 3.1, 3.4, 3.7, 4.0];

        const ë²„ì„œì»¤ìŠ¤í‚¬ëª©ë¡ = ë²„ì„œì»¤ì´ë¦„ë“¤.map((ì´ë¦„, ì¸ë±ìŠ¤) => {
            const ë°°ìœ¨ = ë²„ì„œì»¤ë°°ìœ¨ëª©ë¡[ì¸ë±ìŠ¤].toFixed(1); // âœ… ì˜¬ë°”ë¥¸ ë³€ìˆ˜ëª…
            return {
                í‚¤: `${ì´ë¦„.toLowerCase()}ë²„ì„œì»¤ë°ë¯¸ì§€ì¦ê°€í™•ë¥ `,
                ì´ë¦„: `${ì´ë¦„} ë²„ì„œì»¤`,
                ì„¤ëª…: `ì²´ë ¥ 30% ì´í•˜ ì‹œ ë°ë¯¸ì§€ ${ë°°ìœ¨}ë°° ì¦ê°€.`,
                ìµœëŒ€ë ˆë²¨: 10,
                ìˆ™ë ¨ë„ì†Œëª¨: 10 + ì¸ë±ìŠ¤ * 5,
                ì ê¸ˆí•´ì œì¡°ê±´: ì¸ë±ìŠ¤ === 0 ? null : {
                    í‚¤: `${ë²„ì„œì»¤ì´ë¦„ë“¤[ì¸ë±ìŠ¤ - 1].toLowerCase()}ë²„ì„œì»¤ë°ë¯¸ì§€ì¦ê°€í™•ë¥ `,
                    ìµœì†Œë ˆë²¨: 10
                }
            };
        });

        const ìŠ¤í‚¬ëª©ë¡ = [
            ...í¬ë¦¬í‹°ì»¬ìŠ¤í‚¬ëª©ë¡,
            ...ë“œë ˆì¸ìŠ¤í‚¬ëª©ë¡,
            ...ë²„ì„œì»¤ìŠ¤í‚¬ëª©ë¡
        ];



        auth.onAuthStateChanged(function (user) {
            if (user) {
                uid = user.uid;

                // document.getElementById("ë¡œë”©í™”ë©´").style.display = "block";
                // UID ê¸°ì¤€ìœ¼ë¡œ DB ì¡°íšŒ
                í™”ë©´ì ê¸ˆ();
                db.ref("users/" + uid).once("value").then((snapshot) => {
                    if (snapshot.exists()) {
                        const ë°ì´í„° = snapshot.val();

                        if (ë°ì´í„°.ì•„ì´ë”” && ë°ì´í„°.ì•„ì´ë””.trim() !== "") {
                            ìœ ì €ë°ì´í„° = ë°ì´í„°;

                            // âœ… ìµœëŒ€ì²´ë ¥ ê¸°ë³¸ê°’ ì„¤ì •
                            if (!ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥) {
                                ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥ = 100;
                            }

                            // â¬‡ï¸ ì—¬ê¸°!
                            if (!ìœ ì €ë°ì´í„°.ìŠ¤í‚¬) {
                                ìœ ì €ë°ì´í„°.ìŠ¤í‚¬ = {};
                            }

                            for (const ìŠ¤í‚¬ of ìŠ¤í‚¬ëª©ë¡) {
                                if (!(ìŠ¤í‚¬.í‚¤ in ìœ ì €ë°ì´í„°.ìŠ¤í‚¬)) {
                                    ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬.í‚¤] = 0;
                                }
                            }

                            ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);
                            í™”ë©´í•´ì œ();
                        } else {
                            // âŒ ì•„ì´ë”” ì—†ìŒ â†’ ë¡œê·¸ì¸í™”ë©´ ì§„ì…
                            ìœ ì €ë°ì´í„° = ë°ì´í„°;
                            ë¡œê·¸ì¸í™”ë©´ë³´ì—¬ì£¼ê¸°();
                            í™”ë©´í•´ì œ();
                        }
                    } else {
                        // âœ… ì™„ì „ ì‹ ê·œ ìœ ì € â†’ ê¸°ë³¸ ë°ì´í„° ìƒì„± ë° ì €ì¥
                        ìœ ì €ë°ì´í„° = {
                            ì•„ì´ë””: "",
                            ìƒì„±ì‹œê°: new Date().toISOString(),
                            ë ˆë²¨: 1,
                            ê³µê²©ë ¥: 100,
                            ë‚¨ì€ì²´ë ¥: 100,
                            ìµœëŒ€ì²´ë ¥: 100,
                            ê²½í—˜ì¹˜: 0,
                            ê³¨ë“œ: 0,
                            ìˆ™ë ¨ë„: 0,
                            í˜„ì¬ì¸µ: 1,
                            í˜„ì¬ì•…ë§ˆë²ˆí˜¸: 1,
                            ìŠ¤í‚¬: {} // ì¼ë‹¨ ë¹ˆ ê°ì²´ë¡œ ë„£ê³  ë°”ë¡œ ì•„ë˜ì—ì„œ ì±„ì›€
                        };

                        for (const ìŠ¤í‚¬ of ìŠ¤í‚¬ëª©ë¡) {
                            ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬.í‚¤] = 0;
                        }

                        db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                            ë¡œê·¸ì¸í™”ë©´ë³´ì—¬ì£¼ê¸°(); // ì•„ì´ë”” ì—†ìœ¼ë¯€ë¡œ ë¡œê·¸ì¸í™”ë©´ë¶€í„°
                            í™”ë©´í•´ì œ();
                        });
                    }
                });

            } else {
                // ì•„ì§ ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ìœ¼ë©´ â†’ ìµëª… ë¡œê·¸ì¸ ì‹œì‘
                auth.signInAnonymously();
            }
        });

        function í™”ë©´ì ê¸ˆ() {
            document.getElementById("ë¸”ë¡œì»¤").style.display = "block";
        }

        function í™”ë©´í•´ì œ() {
            document.getElementById("ë¸”ë¡œì»¤").style.display = "none";
        }

        function ë¡œê·¸ì¸í™”ë©´ë³´ì—¬ì£¼ê¸°() {
            // document.getElementById("ë¡œë”©í™”ë©´").style.display = "none";
            document.getElementById("ì „íˆ¬ìŠ¤í‚¬ì„¤ì •ë²„íŠ¼").style.display = "none";
            document.getElementById("ì—ë„ˆì§€ë°•ìŠ¤").style.display = "none";
            document.getElementById("ì „íˆ¬í™”ë©´").style.display = "none";
            document.getElementById("ë¡œê·¸ì¸í™”ë©´").style.display = "block";
            // document.getElementById("ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤").innerHTML = "";
            document.getElementById("íšë“ë¡œê·¸").innerText = "";
            document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";
        }

        function ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €) {

            document.getElementById("ë¡œê·¸ì¸í™”ë©´").style.display = "none";
            document.getElementById("ì „ë‹¹í™”ë©´").style.display = "none";
            document.getElementById("ìŠ¤í‚¬í™”ë©´").style.display = "none";
            document.getElementById("ì „íˆ¬ìŠ¤í‚¬ì„¤ì •ë²„íŠ¼").style.display = "block";
            document.getElementById("ì—ë„ˆì§€ë°•ìŠ¤").style.display = "block";
            document.getElementById("ì „íˆ¬í™”ë©´").style.display = "block";

            document.getElementById("ìœ ì €ì•„ì´ë””").innerText = ìœ ì €ë°ì´í„°.ì•„ì´ë”” || "gagl";
            document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ").innerText = ìœ ì €ë°ì´í„°.ì•„ì´ë”” || "gagl";
            document.getElementById("ìœ ì €ê³µê²©ë ¥").innerText = "ê³µê²©ë ¥ " + (ìœ ì €ë°ì´í„°.ê³µê²©ë ¥ || 0);

            document.getElementById("ìœ ì €ì²´ë ¥").innerText = `ì²´ë ¥ ${ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥} / ${ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥}`;
            document.getElementById("í˜„ì¬ì¸µ").innerText = ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ + "ì¸µ" || "gagl";

            document.getElementById("ë ˆë²¨").innerText = "ë ˆë²¨ " + (ìœ ì €ë°ì´í„°.ë ˆë²¨ ?? 1);
            document.getElementById("ì´ê²½í—˜ì¹˜").innerText =
                typeof ìœ ì €ë°ì´í„°.ê²½í—˜ì¹˜ === "number" ? ìœ ì €ë°ì´í„°.ê²½í—˜ì¹˜.toLocaleString() : "0";
            document.getElementById("íšë“ê²½í—˜ì¹˜").innerText = "0";

            document.getElementById("ì´ê³¨ë“œ").innerText =
                typeof ìœ ì €ë°ì´í„°.ê³¨ë“œ === "number" ? ìœ ì €ë°ì´í„°.ê³¨ë“œ.toLocaleString() : "0";
            document.getElementById("íšë“ê³¨ë“œ").innerText = "0";

            document.getElementById("ì´ìˆ™ë ¨ë„").innerText =
                typeof ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ === "number" ? ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„.toLocaleString() : "0";
            document.getElementById("íšë“ìˆ™ë ¨ë„").innerText = "0";

            // âœ… ëª¬ìŠ¤í„° ì •ë³´ í‘œì‹œ
            const ì•…ë§ˆ = í˜„ì¬ì•…ë§ˆë¶ˆëŸ¬ì˜¤ê¸°(ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ, ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
            const ì•…ë§ˆì´ë¦„ = ì•…ë§ˆë¦¬ìŠ¤íŠ¸[(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - 1) % ì•…ë§ˆë¦¬ìŠ¤íŠ¸.length];

            const ë¡œë§ˆë²ˆí˜¸ = ìˆ«ìë¥¼ë¡œë§ˆìˆ«ìë¡œ(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
            document.getElementById("ì•…ë§ˆì´ë¦„").innerText = `${ë¡œë§ˆë²ˆí˜¸}. ${ì•…ë§ˆì´ë¦„}`;

            í˜„ì¬ì•…ë§ˆ = í˜„ì¬ì•…ë§ˆë¶ˆëŸ¬ì˜¤ê¸°(ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ, ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
            í˜„ì¬ì•…ë§ˆì²´ë ¥ = í˜„ì¬ì•…ë§ˆ.ì²´ë ¥;
            í˜„ì¬ì•…ë§ˆìµœëŒ€ì²´ë ¥ = í˜„ì¬ì•…ë§ˆ.ì²´ë ¥;

            document.getElementById("ì•…ë§ˆì²´ë ¥").innerText = `ì²´ë ¥ ${í˜„ì¬ì•…ë§ˆì²´ë ¥} / ${í˜„ì¬ì•…ë§ˆìµœëŒ€ì²´ë ¥}`;
            document.getElementById("ì•…ë§ˆë°©ì–´ë ¥").innerText = `ë°©ì–´ë ¥ ${ì•…ë§ˆ.ë°©ì–´ë ¥}`;

            // document.getElementById("ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤").innerHTML = "";
            document.getElementById("íšë“ë¡œê·¸").innerText = "";
            // document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";
            // ì „íˆ¬í™”ë©´ ì§„ì… ì§í›„ í˜¸ì¶œ
            setTimeout(ê³ ì •ì´í™íŠ¸ì˜ì—­ì´ˆê¸°í™”, 0);
        }

        function ì „ë‹¹í™”ë©´ë³´ì—¬ì£¼ê¸°() {
            document.getElementById("ì „íˆ¬í™”ë©´").style.display = "none";
            document.getElementById("ì—ë„ˆì§€ë°•ìŠ¤").style.display = "none";
            document.getElementById("ì „ë‹¹í™”ë©´").style.display = "block";
            document.getElementById("ìŠ¤í‚¬í™”ë©´").style.display = "none";
            // document.getElementById("ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤").innerHTML = "";
            document.getElementById("íšë“ë¡œê·¸").innerText = "";
            document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";

            // ğŸ” ë­í‚¹ ì´ˆê¸°í™”
            const ì»¨í…Œì´ë„ˆ = document.getElementById("ì „ë‹¹ì»¨í…Œì´ë„ˆ");
            ì»¨í…Œì´ë„ˆ.innerHTML = "";

            // ğŸ” Firebaseì—ì„œ ëª¨ë“  ìœ ì € ì¡°íšŒ
            db.ref("users").once("value").then((snapshot) => {
                const ìœ ì €ë¦¬ìŠ¤íŠ¸ = [];


                snapshot.forEach((child) => {
                    const ë°ì´í„° = child.val();
                    if (!ë°ì´í„°.ì•„ì´ë”” || ë°ì´í„°.ì•„ì´ë””.trim() === "") return; // âœ… ë­í‚¹ ì œì™¸

                    ìœ ì €ë¦¬ìŠ¤íŠ¸.push(ë°ì´í„°);
                });

                // ğŸ“Š ì •ë ¬: ì¸µìˆ˜ â†’ ëª¬ìŠ¤í„°ë²ˆí˜¸ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ
                ìœ ì €ë¦¬ìŠ¤íŠ¸.sort((a, b) => {
                    if (b.í˜„ì¬ì¸µ !== a.í˜„ì¬ì¸µ) {
                        return b.í˜„ì¬ì¸µ - a.í˜„ì¬ì¸µ;
                    }
                    return b.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - a.í˜„ì¬ì•…ë§ˆë²ˆí˜¸;
                });

                // ğŸ† ìƒìœ„ 10ëª…ë§Œ ì¶œë ¥
                ìœ ì €ë¦¬ìŠ¤íŠ¸.slice(0, 10).forEach((ìœ ì €, index) => {
                    const ì¤„ = document.createElement("div");
                    ì¤„.className = "ì–‘ìª½ì •ë ¬ ë°‘ì¤„";
                    // ì¤„.className = "ì–‘ìª½ì •ë ¬ ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬";

                    const ë¡œë§ˆë²ˆí˜¸ = ìˆ«ìë¥¼ë¡œë§ˆìˆ«ìë¡œ(ìœ ì €.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
                    const ì•…ë§ˆì´ë¦„ = ì•…ë§ˆë¦¬ìŠ¤íŠ¸[(ìœ ì €.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - 1) % ì•…ë§ˆë¦¬ìŠ¤íŠ¸.length];

                    document.getElementById("ì•…ë§ˆì´ë¦„").innerText = `${ë¡œë§ˆë²ˆí˜¸}. ${ì•…ë§ˆì´ë¦„}`;

                    if (ìœ ì €.ì•„ì´ë”” === ìœ ì €ë°ì´í„°.ì•„ì´ë””) {
                        ì¤„.classList.add("ë‚´ì•„ì´ë””ê°•ì¡°");
                    }


                    // ğŸ‘‘ SVG ì•„ì´ì½˜ ìƒì„±
                    let ì™•ê´€ìƒ‰í´ë˜ìŠ¤ = "";
                    if (index === 0) ì™•ê´€ìƒ‰í´ë˜ìŠ¤ = "ê¸ˆ";
                    else if (index === 1) ì™•ê´€ìƒ‰í´ë˜ìŠ¤ = "ì€";
                    else if (index === 2) ì™•ê´€ìƒ‰í´ë˜ìŠ¤ = "ë™";

                    const ì™•ê´€ = index < 3
                        ? `<svg xmlns="http://www.w3.org/2000/svg" class="crown-icon ${ì™•ê´€ìƒ‰í´ë˜ìŠ¤}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
           <path d="M2 5l4.5 4.5L12 3l5.5 6.5L22 5l-1 14H3L2 5z" />
           <path d="M5 20h14" />
         </svg>`
                        : ``;

                    ì¤„.innerHTML = `
    <div class="ê°€ë¡œì •ë ¬">
        ${index < 3 ? ì™•ê´€ : `<span>${index + 1}</span>`}
    </div>
    <div>${ìœ ì €.ì•„ì´ë”” || "ìµëª…"} - ${ìœ ì €.í˜„ì¬ì¸µ}ì¸µ ${ë¡œë§ˆë²ˆí˜¸}. ${ì•…ë§ˆì´ë¦„}</div>
`;
                    ì»¨í…Œì´ë„ˆ.appendChild(ì¤„); // â† ì´ê²Œ ì—†ìœ¼ë©´ ì•„ë¬´ ê²ƒë„ ì•ˆ ê·¸ë ¤ì§


                });
                // âœ… ì—¬ê¸°! ë£¨í”„ ëë‚˜ê³  ë‚˜ì„œ ë”± 1ë²ˆë§Œ ë‚´ ì¤„ ì¶”ê°€
                const ë‚´ë­í‚¹ì¸ë±ìŠ¤ = ìœ ì €ë¦¬ìŠ¤íŠ¸.findIndex(u => u.ì•„ì´ë”” === ìœ ì €ë°ì´í„°.ì•„ì´ë””);
                const ë‚´ë­í‚¹ = ë‚´ë­í‚¹ì¸ë±ìŠ¤ + 1;

                if (ë‚´ë­í‚¹ > 10) {
                    const ë‚´ì¤„ = document.createElement("div");
                    ë‚´ì¤„.className = "ì–‘ìª½ì •ë ¬ ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ë‚´ì•„ì´ë””ê°•ì¡°";
                    const ë‚´ì•…ë§ˆì´ë¦„ = ì•…ë§ˆë¦¬ìŠ¤íŠ¸[(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - 1) % ì•…ë§ˆë¦¬ìŠ¤íŠ¸.length];
                    const ë‚´ë¡œë§ˆë²ˆí˜¸ = ìˆ«ìë¥¼ë¡œë§ˆìˆ«ìë¡œ(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);

                    ë‚´ì¤„.innerHTML = `
        <div class="ê°€ë¡œì •ë ¬">${ë‚´ë­í‚¹}</div>
        <div>${ìœ ì €ë°ì´í„°.ì•„ì´ë””} - ${ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ}ì¸µ ${ë‚´ë¡œë§ˆë²ˆí˜¸}. ${ë‚´ì•…ë§ˆì´ë¦„}</div>
    `;
                    ì»¨í…Œì´ë„ˆ.appendChild(ë‚´ì¤„);
                }
            });
        }



        function ìŠ¤í‚¬í™”ë©´ë³´ì—¬ì£¼ê¸°() {
            document.getElementById("ì „íˆ¬í™”ë©´").style.display = "none";
            document.getElementById("ì—ë„ˆì§€ë°•ìŠ¤").style.display = "none";
            document.getElementById("ì „ë‹¹í™”ë©´").style.display = "none";
            document.getElementById("ìŠ¤í‚¬í™”ë©´").style.display = "block";
            // document.getElementById("ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤").innerHTML = "";
            document.getElementById("íšë“ë¡œê·¸").innerText = "";
            document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";
            document.getElementById("ë³´ìœ ìˆ™ë ¨ë„").innerText = "ë³´ìœ  ìˆ™ë ¨ë„ " + ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„;

            const í´ë˜ìŠ¤ë§µ = {};
            [...í¬ë¦¬í‹°ì»¬ìŠ¤í‚¬ëª©ë¡, ...ë“œë ˆì¸ìŠ¤í‚¬ëª©ë¡, ...ë²„ì„œì»¤ìŠ¤í‚¬ëª©ë¡].forEach(ìŠ¤í‚¬ => {
                const ë§¤ì¹­ = ìŠ¤í‚¬.í‚¤.replace(/í¬ë¦¬í‹°ì»¬í™•ë¥ |ë“œë ˆì¸í¡í˜ˆí™•ë¥ |ë²„ì„œì»¤ë°ë¯¸ì§€ì¦ê°€í™•ë¥ /, '');
                í´ë˜ìŠ¤ë§µ[ìŠ¤í‚¬.í‚¤] = ë§¤ì¹­;
            });

            const ì»¨í…Œì´ë„ˆ = document.getElementById("ìŠ¤í‚¬ì»¨í…Œì´ë„ˆ");
            ì»¨í…Œì´ë„ˆ.innerHTML = "";

            // ìŠ¤í‚¬ ì´ˆê¸°í™” (ê¸°ì¡´ ìœ ì €ìš©)
            if (!ìœ ì €ë°ì´í„°.ìŠ¤í‚¬) {
                ìœ ì €ë°ì´í„°.ìŠ¤í‚¬ = {};
            }
            for (const ìŠ¤í‚¬ of ìŠ¤í‚¬ëª©ë¡) {
                if (!(ìŠ¤í‚¬.í‚¤ in ìœ ì €ë°ì´í„°.ìŠ¤í‚¬)) {
                    ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬.í‚¤] = 0;
                }
            }

            // ë Œë”ë§
            ìŠ¤í‚¬ëª©ë¡.forEach(ìŠ¤í‚¬ => {
                const ì¡°ê±´ = ìŠ¤í‚¬.ì ê¸ˆí•´ì œì¡°ê±´;
                const ì ê¹€ = ì¡°ê±´ && (ìœ ì €ë°ì´í„°.ìŠ¤í‚¬?.[ì¡°ê±´.í‚¤] ?? 0) < ì¡°ê±´.ìµœì†Œë ˆë²¨;
                if (ì ê¹€) return;

                const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬.í‚¤];
                const í™•ë¥  = ë ˆë²¨ * 10;

                const í´ë˜ìŠ¤ëª… = í´ë˜ìŠ¤ë§µ[ìŠ¤í‚¬.í‚¤] ?? "";

                const ì•„ì´ì½˜HTML = ìŠ¤í‚¬.í‚¤.includes("ë²„ì„œì»¤")
                    ? `<svg xmlns="http://www.w3.org/2000/svg" class="flame-icon ${í´ë˜ìŠ¤ëª…}" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
             <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6
             .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294
             1-3a2.5 2.5 0 0 0 2.5 2.5z"/>
           </svg>`
                    : ìŠ¤í‚¬.í‚¤.includes("ë“œë ˆì¸")
                        ? `<svg xmlns="http://www.w3.org/2000/svg" class="drain-icon ${í´ë˜ìŠ¤ëª…}" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
             <path d="m18 2 4 4" />
             <path d="m17 7 3-3" />
             <path d="M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5" />
             <path d="m9 11 4 4" />
             <path d="m5 19-3 3" />
             <path d="m14 4 6 6" />
           </svg>`
                        : `<svg xmlns="http://www.w3.org/2000/svg" class="target-icon ${í´ë˜ìŠ¤ëª…}" viewBox="0 0 24 24" fill="none" stroke="currentColor">
             <circle cx="12" cy="12" r="10" />
             <circle cx="12" cy="12" r="6" />
             <circle cx="12" cy="12" r="2" />
           </svg>`;

                const ë°•ìŠ¤ = document.createElement("div");
                ë°•ìŠ¤.className = "ê¸°ë³¸í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬";

                ë°•ìŠ¤.innerHTML = `
      <div class="ì–‘ìª½ì •ë ¬">
        <div class="ê°€ë¡œì •ë ¬">${ì•„ì´ì½˜HTML}${ìŠ¤í‚¬.ì´ë¦„}</div>
        <div>${ë ˆë²¨} / ${ìŠ¤í‚¬.ìµœëŒ€ë ˆë²¨}</div>
      </div>
      <div class="ì–‘ìª½ì •ë ¬">
        <div style="font-size: 11px; font-weight: lighter;">
          ${ìŠ¤í‚¬.ì„¤ëª…} (${í™•ë¥ }% / ğŸ”§ ${ìŠ¤í‚¬.ìˆ™ë ¨ë„ì†Œëª¨}ìˆ™ë ¨ë„)
        </div>
        <div>
          <button onclick="ìŠ¤í‚¬íˆ¬ì('${ìŠ¤í‚¬.í‚¤}')">+</button>
          <button onclick="ìŠ¤í‚¬íšŒìˆ˜('${ìŠ¤í‚¬.í‚¤}')">-</button>
        </div>
      </div>
    `;

                ì»¨í…Œì´ë„ˆ.appendChild(ë°•ìŠ¤);
            });
        }

        function ìŠ¤í‚¬íˆ¬ì(ìŠ¤í‚¬í‚¤) {
            const ìŠ¤í‚¬ = ìŠ¤í‚¬ëª©ë¡.find(s => s.í‚¤ === ìŠ¤í‚¬í‚¤);
            if (!ìŠ¤í‚¬) return alert("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìŠ¤í‚¬ì…ë‹ˆë‹¤.");

            const ì†Œëª¨ëŸ‰ = ìŠ¤í‚¬.ìˆ™ë ¨ë„ì†Œëª¨ ?? 100;
            const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬í‚¤];

            if (ë ˆë²¨ >= ìŠ¤í‚¬.ìµœëŒ€ë ˆë²¨) return alert("ìµœëŒ€ ë ˆë²¨ì…ë‹ˆë‹¤.");
            if (ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ < ì†Œëª¨ëŸ‰) return alert(`ìˆ™ë ¨ë„ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. (${ì†Œëª¨ëŸ‰} í•„ìš”)`);

            ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ -= ì†Œëª¨ëŸ‰;
            ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬í‚¤] += 1;

            í™”ë©´ì ê¸ˆ();
            db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                ìŠ¤í‚¬í™”ë©´ë³´ì—¬ì£¼ê¸°();
                í™”ë©´í•´ì œ();
            });
        }

        function ìŠ¤í‚¬íšŒìˆ˜(ìŠ¤í‚¬í‚¤) {
            const ìŠ¤í‚¬ = ìŠ¤í‚¬ëª©ë¡.find(s => s.í‚¤ === ìŠ¤í‚¬í‚¤);
            if (!ìŠ¤í‚¬) return alert("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìŠ¤í‚¬ì…ë‹ˆë‹¤.");

            const íšŒìˆ˜ëŸ‰ = ìŠ¤í‚¬.ìˆ™ë ¨ë„ì†Œëª¨ ?? 100;
            const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬í‚¤];
            if (ë ˆë²¨ <= 0) return alert("íšŒìˆ˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");

            ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ += íšŒìˆ˜ëŸ‰;
            ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[ìŠ¤í‚¬í‚¤] -= 1;

            í™”ë©´ì ê¸ˆ();
            db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                ìŠ¤í‚¬í™”ë©´ë³´ì—¬ì£¼ê¸°();
                í™”ë©´í•´ì œ();
            });
        }

        function ì ìš©ëœí¬ë¦¬í‹°ì»¬ë°°ìœ¨() {
            const ê·¸ë¦¬ìŠ¤ì´ë¦„ë“¤ = [
                "ì•ŒíŒŒ", "ë² íƒ€", "ê°ë§ˆ", "ë¸íƒ€", "ì—¡ì‹¤ë¡ ", "ì œíƒ€", "ì—íƒ€", "ì„íƒ€", "ì´ì˜¤íƒ€", "ì¹´íŒŒ",
                "ëŒë‹¤", "ë®¤", "ë‰´", "í¬ì‹œ", "ì˜¤ë¯¸í¬ë¡ ", "íŒŒì´", "ë¡œ", "ì‹œê·¸ë§ˆ", "íƒ€ìš°", "ì…ì‹¤ë¡ ",
                "íŒŒì´2", "ì¹´ì´", "í”„ì‹œ", "ì˜¤ë©”ê°€"
            ];

            let ëˆ„ì ë°°ìœ¨ = 1.0;
            let ë§ˆì§€ë§‰ë°œë™ = null;

            for (let i = 0; i < ê·¸ë¦¬ìŠ¤ì´ë¦„ë“¤.length; i++) {
                const ì´ë¦„ = ê·¸ë¦¬ìŠ¤ì´ë¦„ë“¤[i];
                const í‚¤ = `${ì´ë¦„.toLowerCase()}í¬ë¦¬í‹°ì»¬í™•ë¥ `;
                const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬?.[í‚¤] ?? 0;
                const í™•ë¥  = ë ˆë²¨ * 10;

                const ë°œë™ = í™•ë¥  >= 100 || Math.random() * 100 < í™•ë¥ ;
                if (ë°œë™) {
                    ëˆ„ì ë°°ìœ¨ *= (1.1 + i * 0.1);
                    ë§ˆì§€ë§‰ë°œë™ = { ì´ë¦„: `${ì´ë¦„} í¬ë¦¬í‹°ì»¬`, í´ë˜ìŠ¤: ì´ë¦„.toLowerCase() };
                } else {
                    break; // ì„ í–‰ ìŠ¤í‚¬ ë¯¸ë°œë™ ì‹œ ì´í›„ëŠ” ê±´ë„ˆëœ€
                }
            }

            return {
                ë°°ìœ¨: ëˆ„ì ë°°ìœ¨,
                ìŠ¤í‚¬ì´ë¦„: ë§ˆì§€ë§‰ë°œë™?.ì´ë¦„ ?? null,
                í´ë˜ìŠ¤: ë§ˆì§€ë§‰ë°œë™?.í´ë˜ìŠ¤ ?? null
            };
        }

        function ë“œë ˆì¸íšŒë³µê³„ì‚°() {
            const ë“œë ˆì¸ì´ë¦„ë“¤ = [
                "í‚¬ë¡œ", "ë©”ê°€", "ê¸°ê°€", "í…Œë¼", "í˜íƒ€",
                "ì—‘ì‚¬", "ì œíƒ€", "ìš”íƒ€", "ë¡œë‚˜", "ì¿¼ì¹´"
            ];

            let ì´íšŒë³µëŸ‰ = 0;
            let ë§ˆì§€ë§‰ë°œë™ = null;

            for (let i = 0; i < ë“œë ˆì¸ì´ë¦„ë“¤.length; i++) {
                const ì´ë¦„ = ë“œë ˆì¸ì´ë¦„ë“¤[i];
                const í‚¤ = `${ì´ë¦„.toLowerCase()}ë“œë ˆì¸í¡í˜ˆí™•ë¥ `;
                const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬?.[í‚¤] ?? 0;
                const í™•ë¥  = ë ˆë²¨ * 10;

                if (ë ˆë²¨ > 0) {
                    const ë°œë™ = í™•ë¥  >= 100 || Math.random() * 100 < í™•ë¥ ;
                    if (ë°œë™) {
                        ì´íšŒë³µëŸ‰ += (i + 1); // 1ë¶€í„° ì‹œì‘ (í‚¬ë¡œ = 1, ë©”ê°€ = 2, ...)
                        ë§ˆì§€ë§‰ë°œë™ = ì´ë¦„;
                    } else {
                        break;
                    }
                } else {
                    break;
                }
            }

            return {
                íšŒë³µëŸ‰: ì´íšŒë³µëŸ‰,
                ë°œë™ìŠ¤í‚¬: ë§ˆì§€ë§‰ë°œë™
            };
        }

        function ë²„ì„œì»¤ë°ë¯¸ì§€ë°°ìœ¨() {
            const ì´ë¦„ë“¤ = [
                "ì•µê±°", "ë ˆì´ì§€", "í”„ë Œì§€", "ë§¤ë“œë‹ˆìŠ¤", "í•˜ìš¸",
                "ìƒˆë¹„ì§€", "ë¸”ëŸ¬ë“œ", "ì¹´ì˜¤ìŠ¤", "ë°ìŠ¤", "ë£¨ë‚˜í‹±"
            ];

            // ê° ìŠ¤í‚¬ë³„ ë°°ìœ¨
            const ë°°ìœ¨ëª©ë¡ = [1.3, 1.6, 1.9, 2.2, 2.5, 2.8, 3.1, 3.4, 3.7, 4.0];

            const ì²´ë ¥ë¹„ìœ¨ = ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ / ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥;
            if (ì²´ë ¥ë¹„ìœ¨ > 0.3) return 1.0;

            let ëˆ„ì ë°°ìœ¨ = 1.0;

            for (let i = 0; i < ì´ë¦„ë“¤.length; i++) {
                const ì´ë¦„ = ì´ë¦„ë“¤[i];
                const í‚¤ = `${ì´ë¦„.toLowerCase()}ë²„ì„œì»¤ë°ë¯¸ì§€ì¦ê°€í™•ë¥ `;
                const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬?.[í‚¤] ?? 0;
                const í™•ë¥  = ë ˆë²¨ * 10;

                const ë°œë™ = í™•ë¥  >= 100 || Math.random() * 100 < í™•ë¥ ;
                if (ë°œë™) {
                    ëˆ„ì ë°°ìœ¨ *= ë°°ìœ¨ëª©ë¡[i];
                } else {
                    break; // ì—°ì† ë°œë™ ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨
                }
            }

            return ëˆ„ì ë°°ìœ¨;
        }

        function í¡í˜ˆë¡œê·¸ë³´ì—¬ì£¼ê¸°(ë°œë™ìŠ¤í‚¬, íšŒë³µëŸ‰) {
            const ëŒ€ìƒ = document.querySelector(".ìœ ì €í…Œë‘ë¦¬");
            if (!ëŒ€ìƒ) return;

            const rect = ëŒ€ìƒ.getBoundingClientRect();

            const ì•„ì´ì½˜HTML = `
    <svg xmlns="http://www.w3.org/2000/svg" class="drain-icon ${ë°œë™ìŠ¤í‚¬?.toLowerCase()}" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m18 2 4 4" />
      <path d="m17 7 3-3" />
      <path d="M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5" />
      <path d="m9 11 4 4" />
      <path d="m5 19-3 3" />
      <path d="m14 4 6 6" />
    </svg>
  `;

            const el = document.createElement("div");
            el.innerHTML = `${ì•„ì´ì½˜HTML} ${ë°œë™ìŠ¤í‚¬} ë“œë ˆì¸! ì²´ë ¥ +${íšŒë³µëŸ‰}`;
            el.style.position = "absolute";
            el.style.left = `${rect.left + Math.random() * rect.width}px`;
            el.style.top = `${rect.top + Math.random() * rect.height}px`;
            el.style.color = "#f43f5e";
            el.style.fontWeight = "bold";
            el.style.fontSize = "13px";
            el.style.display = "inline-flex";
            el.style.alignItems = "center";
            el.style.gap = "5px";
            el.style.padding = "4px 8px";
            el.style.background = "rgba(0, 0, 0, 0.7)";
            el.style.borderRadius = "6px";
            el.style.pointerEvents = "none";
            el.style.whiteSpace = "nowrap";
            el.style.zIndex = "9999";
            el.style.animation = "fadeOut 2s ease-in-out forwards";

            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2000);
        }

        function ê³ ì •ì´í™íŠ¸ì˜ì—­ì´ˆê¸°í™”() {
            const ìœ ì € = document.querySelector(".ìœ ì €í…Œë‘ë¦¬");
            const ëª¬ìŠ¤í„° = document.querySelector(".ëª¬ìŠ¤í„°í…Œë‘ë¦¬");
            const ë°•ìŠ¤ = document.getElementById("ê³ ì •ì´í™íŠ¸ì˜ì—­");

            if (!ìœ ì € || !ëª¬ìŠ¤í„° || !ë°•ìŠ¤) return;

            const u = ìœ ì €.getBoundingClientRect();
            const m = ëª¬ìŠ¤í„°.getBoundingClientRect();

            ë°•ìŠ¤.style.top = `${u.top}px`;
            ë°•ìŠ¤.style.left = `${u.left}px`;
            ë°•ìŠ¤.style.width = `${u.width}px`;
            ë°•ìŠ¤.style.height = `${m.bottom - u.top}px`;
            ë°•ìŠ¤.style.display = "block";
        }


        document.getElementById("ë³´ìœ ìˆ™ë ¨ë„").addEventListener("click", () => {
            if (!confirm("ëª¨ë“  ìŠ¤í‚¬ í¬ì¸íŠ¸ë¥¼ íšŒìˆ˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

            for (const ìŠ¤í‚¬ of ìŠ¤í‚¬ëª©ë¡) {
                const í‚¤ = ìŠ¤í‚¬.í‚¤;
                const ë ˆë²¨ = ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[í‚¤] ?? 0;
                const íšŒìˆ˜ëŸ‰ = ìŠ¤í‚¬.ìˆ™ë ¨ë„ì†Œëª¨ ?? 10;
                ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ += íšŒìˆ˜ëŸ‰ * ë ˆë²¨;
                ìœ ì €ë°ì´í„°.ìŠ¤í‚¬[í‚¤] = 0;
            }


            í™”ë©´ì ê¸ˆ();
            db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                alert("ìŠ¤í‚¬ í¬ì¸íŠ¸ê°€ ëª¨ë‘ íšŒìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.");
                ìŠ¤í‚¬í™”ë©´ë³´ì—¬ì£¼ê¸°();
                í™”ë©´í•´ì œ();
            });
        });



        function ì•„ì´ë””ì„¤ì •() {
            const ì…ë ¥ì•„ì´ë”” = document.getElementById("ì•„ì´ë””ì…ë ¥").value.trim();
            if (!ì…ë ¥ì•„ì´ë””) return alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");

            // 1ï¸âƒ£ ì•„ì´ë”” ì¤‘ë³µ ì—¬ë¶€ í™•ì¸
            í™”ë©´ì ê¸ˆ();
            db.ref("users").orderByChild("ì•„ì´ë””").equalTo(ì…ë ¥ì•„ì´ë””).once("value", (snapshot) => {
                if (snapshot.exists()) {
                    í™”ë©´í•´ì œ();
                    return alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                }

                // 2ï¸âƒ£ ì¤‘ë³µ ì•„ë‹ˆë©´ ì €ì¥ ì§„í–‰
                ìœ ì €ë°ì´í„°.ì•„ì´ë”” = ì…ë ¥ì•„ì´ë””;
                db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                    ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);
                    í™”ë©´í•´ì œ();
                });
            });
        }

        document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ").addEventListener("click", () => {
            const el = document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ");

            // ì´ë¯¸ ì¸í’‹ ìƒíƒœë©´ ì¤‘ë³µ ìƒì„± ë°©ì§€
            if (el.querySelector("input")) return;

            const í˜„ì¬ì•„ì´ë”” = ìœ ì €ë°ì´í„°.ì•„ì´ë”” || "";
            const input = document.createElement("input");
            input.type = "text";
            input.value = í˜„ì¬ì•„ì´ë””;
            input.maxLength = 8;
            input.style.width = "120px";
            input.style.fontSize = "inherit";

            // ê¸°ì¡´ í…ìŠ¤íŠ¸ ì œê±°í•˜ê³  input ì‚½ì…
            el.innerHTML = "";
            el.appendChild(input);
            input.focus();

            // ì—”í„°ë¡œ ì €ì¥
            input.addEventListener("keydown", (e) => {
                if (e.key === "Enter") {
                    const ìƒˆì•„ì´ë”” = input.value.trim();
                    if (!ìƒˆì•„ì´ë””) return alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");

                    í™”ë©´ì ê¸ˆ();

                    db.ref("users").orderByChild("ì•„ì´ë””").equalTo(ìƒˆì•„ì´ë””).once("value", (snapshot) => {
                        const ì´ë¯¸ì¡´ì¬ = snapshot.exists() && ìƒˆì•„ì´ë”” !== í˜„ì¬ì•„ì´ë””;

                        if (ì´ë¯¸ì¡´ì¬) {
                            í™”ë©´í•´ì œ();
                            alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                            input.focus();
                            return;
                        }

                        // ì €ì¥ ì§„í–‰
                        ìœ ì €ë°ì´í„°.ì•„ì´ë”” = ìƒˆì•„ì´ë””;
                        db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                            el.innerText = ìƒˆì•„ì´ë””;
                            document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ").innerText = ìƒˆì•„ì´ë””;
                            document.getElementById("ìœ ì €ì•„ì´ë””").innerText = ìƒˆì•„ì´ë””;
                            í™”ë©´í•´ì œ();
                        });
                    });
                }

                // Esc ëˆ„ë¥´ë©´ ì·¨ì†Œ
                if (e.key === "Escape") {
                    el.innerText = í˜„ì¬ì•„ì´ë””;
                }
            });

            // í¬ì»¤ìŠ¤ ë²—ì–´ë‚˜ë©´ ì›ë˜ëŒ€ë¡œ (ë³€ê²½ ì·¨ì†Œ)
            input.addEventListener("blur", () => {
                el.innerText = í˜„ì¬ì•„ì´ë””;
            });
        });


        const ì•…ë§ˆë¦¬ìŠ¤íŠ¸ = [
            "ë””ë‚˜ë¥´", "ì—ë¦¬ê³¤", "ë„ë ˆì•Œ", "í¬ë¡œì…€", "ë£¨í˜ìŠ¤", "ë²¨", "ì‹œì—ë¥´", "ì„¸ë ˆìš°ìŠ¤", "ë²„ì•Œë² ë¦¬ìŠ¤", "ë°œë¼í¬",
            "ë¡œë…¸ë² ", "ìê°„", "ì•ˆë“œë¼ë©œë¦¬ìš°ìŠ¤", "ë‹ˆë² ë¡œìŠ¤", "ì—ì´ëª¬", "ë¼ì—ìŠ¤", "ì•„ë¼íƒ€ë°”", "ë°”í‹°ë°”ìŠ¤", "ì•„ëª¬", "ì•ˆë“œë¡œë§ë¦¬ìš°ìŠ¤",
            "ë°”í”¼ë©”íŠ¸", "ì˜¤ë¡œì´ì•„ìŠ¤", "ì˜¤ì„¸", "ì•„ë¯¸", "ë°ì¹´ë¸Œë¦¬ì•„", "ë²¨ë¦¬ì•Œ", "ë””ì¹´ë¦¬ë¸Œ", "ì„¸ì´ë¥´", "ì˜¤ë¡œë²„ìŠ¤", "ë¬´ë£¨ë¬´ë¥´",
            "ì¹´ì´ë¯¸", "ì•Œë¡œì„¸ìŠ¤", "ìƒ¤ë¥´ë‚˜í¬", "ìƒ¤í¬", "ì‚¬ë¸Œë‚™", "ë¼í•˜ë¸Œ", "ë§í¬ë¥´ìŠ¤", "í•˜ìš°ë ˆìŠ¤", "í”¼ë‹‰ìŠ¤", "ë¶€ì•Œ",
            "í‘¸ë¥´ì¹´ìŠ¤", "ê°€í”„", "ì•„ìŠ¤ëª¨ë°ìš°ìŠ¤", "í¬ë¥´ì¹´ìŠ¤", "ë³´ë½ìŠ¤", "ê¸€ë¼ì‹œì•„ë¼ë³¼ë¼ìŠ¤", "ë‚˜ë² ë¦¬ìš°ìŠ¤", "ì•„ì´ëª¬", "í”„ë£¨í‘¸ìŠ¤", "ì‚´ë¡œìŠ¤",
            "í•˜í”„ë¦¬", "í˜ë‹ˆì•…ìŠ¤", "ë‹¤ì´ëª¬", "ìŠ¤í‹¸", "ë§ˆë¥´ì½”ì‹œì•„ìŠ¤", "ë³´íŠ¸ìŠ¤", "ì œíŒŒë¥´", "ì—˜ë¦¬ê³ ìŠ¤", "ë ˆë¦¬ì–´", "ë² ë ˆíŠ¸",
            "ì‹œíŠ¸ë¦¬", "êµ¬ì‹œì˜¨", "ë¶€ì—ë¥´", "ì¹´ì„", "í¬ë¥´ë„¤ìš°ìŠ¤", "ë¶€ë„¤", "ì•„ëª¬", "ë§ˆë¼ë°”ìŠ¤", "í‘¸ë¥´ì†", "ë§íŒŒìŠ¤",
            "íŒŒì„", "ë°”ë¥´ë°”í† ìŠ¤", "ì•„ê°€ë ˆìŠ¤", "ë°”ì•Œ"
        ];

        function ìˆ«ìë¥¼ë¡œë§ˆìˆ«ìë¡œ(num) {
            const ë¡œë§ˆ = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"];
            const ê°’ = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1];
            let ê²°ê³¼ = "";
            for (let i = 0; i < ê°’.length; i++) {
                while (num >= ê°’[i]) {
                    ê²°ê³¼ += ë¡œë§ˆ[i];
                    num -= ê°’[i];
                }
            }
            return ê²°ê³¼;
        }


        function í˜„ì¬ì•…ë§ˆë¶ˆëŸ¬ì˜¤ê¸°(ì¸µ, ë²ˆí˜¸) {
            const ë ˆì–´ëª¬ìŠ¤í„°í™•ë¥ í‘œ = [
                { ì´ë¦„: "CCCXIII. ë°”í¬ë©”íŠ¸", í™•ë¥ : 0.10, ë°°ìœ¨: 1.1 },
                { ì´ë¦„: "IV. ë””ì•„ë¸”ë¡œ", í™•ë¥ : 0.10, ë°°ìœ¨: 1.1 },
                { ì´ë¦„: "CMXCIX. ë©”í”¼ìŠ¤í† ", í™•ë¥ : 0.10, ë°°ìœ¨: 1.1 },
                { ì´ë¦„: "CXXXI. ë¦´ë¦¬íŠ¸", í™•ë¥ : 0.10, ë°°ìœ¨: 1.1 },
                { ì´ë¦„: "LXXXIX. ë ˆë¹„ì•„íƒ„", í™•ë¥ : 0.03, ë°°ìœ¨: 1.3 },
                { ì´ë¦„: "DCCLXXVII. ë²¨ì œë¶‘", í™•ë¥ : 0.03, ë°°ìœ¨: 1.3 },
                { ì´ë¦„: "DCLXVI. ì‚¬íƒ„", í™•ë¥ : 0.01, ë°°ìœ¨: 1.5 }
            ];

            // ğŸ¯ ê¸°ë³¸ ëª¬ìŠ¤í„° ìŠ¤íƒ¯ ê³„ì‚°
            const ì•…ë§ˆìˆ˜ = 72;
            const ì²´ë ¥ê¸°ë³¸ = 200;
            const ì²´ë ¥ì¦ê°€ = 20;
            const ë°©ì–´ê¸°ë³¸ = 10;
            const ë°©ì–´ì¦ê°€ = 1;
            const ë°©ì–´ì¦ê°€ì£¼ê¸° = 1;
            const ì¸µë°°ìœ¨ = 1.2;

            let ì¸µì‹œì‘ì²´ë ¥ = ì²´ë ¥ê¸°ë³¸;
            let ì¸µì‹œì‘ë°©ì–´ = ë°©ì–´ê¸°ë³¸;
            for (let i = 1; i < ì¸µ; i++) {
                const ë§ˆì§€ë§‰ì²´ë ¥ = ì¸µì‹œì‘ì²´ë ¥ + (ì•…ë§ˆìˆ˜ - 1) * ì²´ë ¥ì¦ê°€;
                const ë§ˆì§€ë§‰ë°©ì–´ = ì¸µì‹œì‘ë°©ì–´ + Math.floor((ì•…ë§ˆìˆ˜ - 1) / ë°©ì–´ì¦ê°€ì£¼ê¸°) * ë°©ì–´ì¦ê°€;
                ì¸µì‹œì‘ì²´ë ¥ = Math.round(ë§ˆì§€ë§‰ì²´ë ¥ * ì¸µë°°ìœ¨);
                ì¸µì‹œì‘ë°©ì–´ = Math.round(ë§ˆì§€ë§‰ë°©ì–´ * ì¸µë°°ìœ¨);
            }

            const ê¸°ë³¸ì²´ë ¥ = Math.round(ì¸µì‹œì‘ì²´ë ¥ + (ë²ˆí˜¸ - 1) * ì²´ë ¥ì¦ê°€);
            const ê¸°ë³¸ë°©ì–´ë ¥ = Math.floor(ì¸µì‹œì‘ë°©ì–´ + Math.floor((ë²ˆí˜¸ - 1) / ë°©ì–´ì¦ê°€ì£¼ê¸°) * ë°©ì–´ì¦ê°€);

            // ğŸ§¿ ë ˆì–´ëª¬ìŠ¤í„° í™•ë¥  ì²´í¬
            for (const ë ˆì–´ of ë ˆì–´ëª¬ìŠ¤í„°í™•ë¥ í‘œ) {
                if (Math.random() < ë ˆì–´.í™•ë¥ ) {
                    return {
                        ì¸µ,
                        ë²ˆí˜¸,
                        ì´ë¦„: ë ˆì–´.ì´ë¦„,
                        ì²´ë ¥: Math.round(ê¸°ë³¸ì²´ë ¥ * ë ˆì–´.ë°°ìœ¨),
                        ë°©ì–´ë ¥: Math.round(ê¸°ë³¸ë°©ì–´ë ¥ * ë ˆì–´.ë°°ìœ¨),
                        ë ˆì–´: true
                    };
                }
            }

            return {
                ì¸µ,
                ë²ˆí˜¸,
                ì²´ë ¥: ê¸°ë³¸ì²´ë ¥,
                ë°©ì–´ë ¥: ê¸°ë³¸ë°©ì–´ë ¥,
                ë ˆì–´: false
            };
        }

        document.getElementById("íƒˆí‡´").addEventListener("click", function () {
            if (!uid) return alert("ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.");


            if (confirm("ì •ë§ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤.")) {
                // ğŸ”¥ í•´ë‹¹ uid ì „ì²´ ë°ì´í„° ì™„ì „ ì‚­ì œ
                í™”ë©´ì ê¸ˆ();
                db.ref("users/" + uid).remove().then(() => {
                    alert("ëª¨ë“  ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë¡œê·¸ì¸ í™”ë©´ì´ ë‚˜ì˜µë‹ˆë‹¤.");
                    location.reload(); // ìƒˆë¡œê³ ì¹¨í•´ì„œ ë‹¤ì‹œ ìµëª… ë¡œê·¸ì¸ë¶€í„°
                    í™”ë©´í•´ì œ();
                });
            }


        });


        function ê³µê²©í•˜ê¸°() {
            if (í˜„ì¬ì•…ë§ˆì²´ë ¥ <= 0 || ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ <= 0) return;

            í™”ë©´ì ê¸ˆ();

            // âœ… ëª¬ìŠ¤í„° ì´ë¦„ ì¼ê´€ì„± ìˆê²Œ ì¶”ì¶œ
            const ì•…ë§ˆ = í˜„ì¬ì•…ë§ˆë¶ˆëŸ¬ì˜¤ê¸°(ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ, ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
            const ì•…ë§ˆì´ë¦„ = ì•…ë§ˆë¦¬ìŠ¤íŠ¸[(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - 1) % ì•…ë§ˆë¦¬ìŠ¤íŠ¸.length];
            const ë¡œë§ˆë²ˆí˜¸ = ìˆ«ìë¥¼ë¡œë§ˆìˆ«ìë¡œ(ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸);
            const ëª¬ìŠ¤í„°ì´ë¦„ = `${ë¡œë§ˆë²ˆí˜¸}. ${ì•…ë§ˆì´ë¦„}`;

            let ì•…ë§ˆHP = ì•…ë§ˆ.ì²´ë ¥;
            let ìœ ì €HP = ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥;
            let ì „íˆ¬ê²°ê³¼ = null;

            while (ì•…ë§ˆHP > 0 && ìœ ì €HP > 0) {
                const ìœ ì €ê³µ = ìœ ì €ë°ì´í„°.ê³µê²©ë ¥;
                const ë°©ì–´ = ì•…ë§ˆ.ë°©ì–´ë ¥;
                const ëœë¤ = Math.random() * 0.2 + 0.8;
                const { ë°°ìœ¨ } = ì ìš©ëœí¬ë¦¬í‹°ì»¬ë°°ìœ¨();
                const { ë°°ìœ¨: í¬ë¦¬ë°°ìœ¨ } = ì ìš©ëœí¬ë¦¬í‹°ì»¬ë°°ìœ¨();
                const ë²„ì„œì»¤ë°°ìœ¨ = ë²„ì„œì»¤ë°ë¯¸ì§€ë°°ìœ¨();

                const ë°ë¯¸ì§€ = Math.floor(Math.max(0, ìœ ì €ê³µ - ë°©ì–´) * ëœë¤ * í¬ë¦¬ë°°ìœ¨ * ë²„ì„œì»¤ë°°ìœ¨);

                ì•…ë§ˆHP -= ë°ë¯¸ì§€;
                ìœ ì €HP = Math.max(0, ìœ ì €HP - 1);
            }

            ì „íˆ¬ê²°ê³¼ = (ìœ ì €HP <= 0) ? "íŒ¨ë°°" : "ìŠ¹ë¦¬";

            setTimeout(() => {
                if (ì „íˆ¬ê²°ê³¼ === "íŒ¨ë°°") {
                    // âœ… í›„í‡´ ì²˜ë¦¬
                    ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ = ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥;
                    let ì´ì „ë²ˆí˜¸ = ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ - 1;
                    let ì´ì „ì¸µ = ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ;
                    if (ì´ì „ë²ˆí˜¸ < 1) {
                        ì´ì „ì¸µ -= 1;
                        ì´ì „ë²ˆí˜¸ = 72;
                        if (ì´ì „ì¸µ < 1) {
                            ì´ì „ì¸µ = 1;
                            ì´ì „ë²ˆí˜¸ = 1; // âœ… 1ì¸µ 1ë²ˆ ìœ ì§€
                        }
                    }
                    ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ = ì´ì „ì¸µ;
                    ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ = ì´ì „ë²ˆí˜¸;

                    db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                        ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°();
                        document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").innerText = "íŒ¨ë°°";
                        document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").style.color = "red";
                        document.getElementById("íšë“ë¡œê·¸").style.color = "red";
                        document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";
                        document.getElementById("íšë“ë¡œê·¸").innerText = "ì´ ì „ ëª¬ìŠ¤í„°ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤";
                        ì£½ìŒë©”ì‹œì§€ë³´ì—¬ì£¼ê¸°("ğŸ’€ ì²´ë ¥ì´ ëª¨ë‘ ì†Œì§„ë˜ì–´ í›„í‡´í•©ë‹ˆë‹¤!");
                        í™”ë©´í•´ì œ();
                    });

                } else {
                    const { íšŒë³µëŸ‰, ë°œë™ìŠ¤í‚¬ } = ë“œë ˆì¸íšŒë³µê³„ì‚°();
                    ìœ ì €HP = Math.min(ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥, ìœ ì €HP + íšŒë³µëŸ‰);

                    const ë³´ìƒ = ë³´ìƒíšë“(ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ);
                    const ì´ì „ë ˆë²¨ = ìœ ì €ë°ì´í„°.ë ˆë²¨;

                    ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ = ìœ ì €HP;
                    ìœ ì €ë°ì´í„°.ê²½í—˜ì¹˜ += ë³´ìƒ.ê²½í—˜ì¹˜;
                    ìœ ì €ë°ì´í„°.ê³¨ë“œ += ë³´ìƒ.ê³¨ë“œ;
                    ìœ ì €ë°ì´í„°.ìˆ™ë ¨ë„ += ë³´ìƒ.ìˆ™ë ¨ë„;

                    const ìƒˆë ˆë²¨ = Math.floor(ìœ ì €ë°ì´í„°.ê²½í—˜ì¹˜ / 100) + 1;
                    if (ìƒˆë ˆë²¨ > ì´ì „ë ˆë²¨) {
                        const ì¦ê°€ëŸ‰ = ìƒˆë ˆë²¨ - ì´ì „ë ˆë²¨;
                        ìœ ì €ë°ì´í„°.ë ˆë²¨ = ìƒˆë ˆë²¨;
                        ìœ ì €ë°ì´í„°.ê³µê²©ë ¥ += ì¦ê°€ëŸ‰ * 15;
                        ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ = ìœ ì €ë°ì´í„°.ìµœëŒ€ì²´ë ¥;
                    }

                    let ë‹¤ìŒë²ˆí˜¸ = ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ + 1;
                    let ë‹¤ìŒì¸µ = ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ;
                    if (ë‹¤ìŒë²ˆí˜¸ > 72) {
                        ë‹¤ìŒë²ˆí˜¸ = 1;
                        ë‹¤ìŒì¸µ += 1;
                    }
                    ìœ ì €ë°ì´í„°.í˜„ì¬ì•…ë§ˆë²ˆí˜¸ = ë‹¤ìŒë²ˆí˜¸;
                    ìœ ì €ë°ì´í„°.í˜„ì¬ì¸µ = ë‹¤ìŒì¸µ;

                    db.ref("users/" + uid).set(ìœ ì €ë°ì´í„°).then(() => {
                        ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°();

                        // âœ… ìŠ¹ë¦¬ UI ì¶œë ¥
                        document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").innerText = "ìŠ¹ë¦¬";
                        document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").style.color = "#00c851";
                        document.getElementById("íšë“ë¡œê·¸").style.color = "#00c851";
                        document.getElementById("íšë“ë¡œê·¸").innerText =
                            `${ë³´ìƒ.ê²½í—˜ì¹˜} EXP, ${ë³´ìƒ.ê³¨ë“œ} Gold, ${ë³´ìƒ.ìˆ™ë ¨ë„} ìˆ™ë ¨ë„ íšë“`;
                        document.getElementById("íšë“ê²½í—˜ì¹˜").innerText = `+${ë³´ìƒ.ê²½í—˜ì¹˜}`;
                        document.getElementById("íšë“ê³¨ë“œ").innerText = `+${ë³´ìƒ.ê³¨ë“œ}`;
                        document.getElementById("íšë“ìˆ™ë ¨ë„").innerText = `+${ë³´ìƒ.ìˆ™ë ¨ë„}`;
                        document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText =
                            (ìƒˆë ˆë²¨ > ì´ì „ë ˆë²¨) ? "ë ˆë²¨ì—…!" : "";

                        if (íšŒë³µëŸ‰ > 0) {
                            í¡í˜ˆë¡œê·¸ë³´ì—¬ì£¼ê¸°(ë°œë™ìŠ¤í‚¬, íšŒë³µëŸ‰);
                        }

                        ì£½ìŒë©”ì‹œì§€ë³´ì—¬ì£¼ê¸°(`${ëª¬ìŠ¤í„°ì´ë¦„} ì²˜ì¹˜!`);
                        í™”ë©´í•´ì œ();
                    });
                }
            }, 100);
        }

        function ë°ë¯¸ì§€í‘œì‹œ(í…ìŠ¤íŠ¸) {
            const el = document.createElement("div");
            el.innerText = í…ìŠ¤íŠ¸;

            el.style.position = "absolute";
            el.style.left = `${Math.random() * 80 + 10}%`;  // 10% ~ 90%
            el.style.top = `${Math.random() * 70 + 15}%`;   // 15% ~ 85%
            el.style.color = "orange";
            el.style.fontWeight = "bold";
            el.style.fontSize = "16px";
            el.style.pointerEvents = "none";
            el.style.whiteSpace = "nowrap";
            el.style.zIndex = "9999";
            el.style.animation = "fadeOut 1.5s ease-out forwards";

            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1500);
        }

        function ë³´ìƒíšë“(ì¸µ) {
            const ê²½í—˜ì¹˜ = Math.floor(Math.random() * 25) + 10;
            // const ê²½í—˜ì¹˜ = Math.floor(Math.random() * 10) + ì¸µ * 10; // 1ì¸µ: 10~19
            const ê³¨ë“œ = Math.floor(Math.random() * 100) + ì¸µ * 100;      // 100~199
            const ìˆ™ë ¨ë„ = ì¸µ;                                       // ì¸µìˆ˜ = ìˆ™ë ¨ë„


            return { ê²½í—˜ì¹˜, ê³¨ë“œ, ìˆ™ë ¨ë„ };
        }


        window.addEventListener("DOMContentLoaded", function () {
            document.getElementById("ê³µê²©ë²„íŠ¼").addEventListener("click", ê³µê²©í•˜ê¸°);
        });


        function ì£½ìŒë©”ì‹œì§€ë³´ì—¬ì£¼ê¸°(text) {
            const ëŒ€ìƒ = document.querySelector(".ëª¬ìŠ¤í„°í…Œë‘ë¦¬");
            if (!ëŒ€ìƒ) return;

            const rect = ëŒ€ìƒ.getBoundingClientRect();

            const el = document.createElement("div");
            el.innerText = text;
            el.style.position = "absolute";
            el.style.left = `${rect.left + Math.random() * rect.width}px`;
            el.style.top = `${rect.top + Math.random() * rect.height}px`;
            el.style.color = "#b0b0b0";
            el.style.background = "rgba(0, 0, 0, 0.8)";
            el.style.padding = "10px 20px";
            el.style.border = "2px solid #2e2e2e";
            el.style.borderRadius = "12px";
            el.style.fontWeight = "bold";
            el.style.fontSize = "14px";
            el.style.pointerEvents = "none";
            el.style.zIndex = "9999";
            el.style.whiteSpace = "nowrap";
            el.style.animation = "fadeOut 2s ease-in-out forwards";
            el.style.boxShadow = "0 0 20px rgba(234, 0, 255, 0.6)";

            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2000);
        }

        function ìë™ì‚¬ëƒ¥í† ê¸€() {
            const ë²„íŠ¼ = document.getElementById("ìë™ì‚¬ëƒ¥ë²„íŠ¼");

            if (!ìë™ì‚¬ëƒ¥ì¤‘) {
                ìë™ì‚¬ëƒ¥ì¤‘ = true;
                ë²„íŠ¼.innerText = "ğŸ›‘ ìë™ì¤‘ì§€";
                ë²„íŠ¼.style.color = "red";

                ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸ = setInterval(() => {
                    if (!ìë™ì‚¬ëƒ¥ì¤‘ || ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥ <= 0) return;
                    ê³µê²©í•˜ê¸°();
                }, 500); // 1ì´ˆ ì‹œë®¬ + ì•½ê°„ ì—¬ìœ 
            } else {
                ìë™ì‚¬ëƒ¥ì¤‘ = false;
                clearInterval(ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸);
                ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸ = null;

                ë²„íŠ¼.innerText = "â± ìë™ì‚¬ëƒ¥";
                ë²„íŠ¼.style.color = "white";
            }
        }

        document.getElementById("ìë™ì‚¬ëƒ¥ë²„íŠ¼").addEventListener("click", ìë™ì‚¬ëƒ¥í† ê¸€);

        document.getElementById("ì „ë‹¹").addEventListener("click", () => {
            ì „ë‹¹í™”ë©´ë³´ì—¬ì£¼ê¸°();
        });

        document.getElementById("ìŠ¤í‚¬").addEventListener("click", () => {
            ìŠ¤í‚¬í™”ë©´ë³´ì—¬ì£¼ê¸°();
        });

        document.getElementById("ì „íˆ¬").addEventListener("click", () => {
            ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);
        });

        document.addEventListener("click", (e) => {
            // ìë™ì‚¬ëƒ¥ ì¤‘ì¼ ë•Œë§Œ ë©ˆì¶¤
            if (ìë™ì‚¬ëƒ¥ì¤‘ && !e.target.closest("#ìë™ì‚¬ëƒ¥ë²„íŠ¼")) {
                ìë™ì‚¬ëƒ¥ì¤‘ = false;
                clearInterval(ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸);
                ìë™ì‚¬ëƒ¥íƒ€ì´ë¨¸ = null;

                const ë²„íŠ¼ = document.getElementById("ìë™ì‚¬ëƒ¥ë²„íŠ¼");
                ë²„íŠ¼.innerText = "â± ìë™ì‚¬ëƒ¥";
                ë²„íŠ¼.style.color = "white";
            }
        });










        // ìŠ¤í¬ë¦½íŠ¸ì¶”ê°€





    </script>







</body>

</html>